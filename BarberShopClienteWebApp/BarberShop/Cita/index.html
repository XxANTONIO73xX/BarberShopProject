<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Citas</title>
</head>

<body>
  <nav class="navigation_bar">
    <ul class="nv_list">
      <li><a href="../MainCliente/Main.html">Inicio</a></li>
      <li><a href="../Corte/index.html">Cortes</a></li>
      <li><a href="../InformacionBarberia/index.html">Mas Informacion</a></li>
    </ul>
  </nav>
  <h3> Tus citas </h3>
  <table class="tabla_citas">
    <tr>
      <thead>
        <th> Barber√≠a </th>
        <th> Barbero </th>
        <th> Corte </th>
        <th> Fecha</th>
        <th> Estado </th>
      </thead>
    </tr>
    <br>
    <tr>
      <tbody id="contenido_citas">
        <td> </td>
        <td> </td>
        <td> </td>
        <td> </td>
        <td> </td>

      </tbody>
    </tr>


  </table>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>


    var url = "http://localhost/BarberShop/public";
    var rows = " ";

    $.ajax({   //iniciar ajax para crar token   
      url: url +'/cita',
      type: "GET",
      data: {},
      dataType: "json",

    }).done(function (data, textStatus, jqXHR) { // lo que regresamos desde la API esta en data

      var rows = " ";
      console.log("info tabla")
      console.log(data)

      if (!data) {
        rows = "<h2 style='color:red; text-align:center;'>No hay registros</h2>";
      } else {
        data.citas.forEach(r => {
          rows += ` 
                <tr>
                    <td>${r.id}</td>
                    <td>${r.idBarberia}</td>
                    <td>${r.idBarberio}</td>
                    <td>${r.idCorte}</td>
                    <td>${r.fecha}</td>
                    <td>${r.estado}</td>
                </tr>
          `
        });
      }

      $("#contenido_citas tbody").html(rows);
    })






  </script>
</body>

</html>